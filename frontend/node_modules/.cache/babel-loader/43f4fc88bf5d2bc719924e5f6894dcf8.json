{"ast":null,"code":"var _jsxFileName = \"/Users/kellyhuang/Documents/CS122B/FRONTEND/CS122B-FE-Starter/src/pages/App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { orderPayment } from \"../backend/orders\";\nimport CheckoutForm from \"../pages/CheckoutForm\";\nimport { useUser } from \"../hook/User\";\nimport \"index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"pk_test_51L1KT6A6FPmczoGVaNZ6wlz6oTx3DEOF006dCb7tZqBD5X3htwfpgbwiv2K8QVqUcsKsPvTJTaU6GyqDwn91Kf1i00q5kUixme\"); //CREATE PAYMENT INTENT\n\nexport default function App() {\n  _s();\n\n  const [paymentIntentId, setPaymentIntentId] = useState(\"\");\n  const [clientSecret, setClientSecret] = useState(\"\");\n  const {\n    accessToken\n  } = useUser(); //calling get request from /order/payment endpoint to get paymentintentid\n\n  const createPaymentIntent = () => {\n    orderPayment(accessToken).then(response => {\n      setClientSecret(response.data.clientSecret);\n      setPaymentIntentId(response.data.paymentIntentId);\n    }).catch(error => alert(JSON.stringify(error.response.data, null, 2)));\n  };\n\n  useEffect(() => {\n    createPaymentIntent();\n  }, []);\n  const appearance = {\n    theme: 'stripe'\n  };\n  const options = {\n    clientSecret,\n    appearance\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"hello\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), clientSecret && /*#__PURE__*/_jsxDEV(Elements, {\n      options: options,\n      stripe: stripePromise,\n      children: /*#__PURE__*/_jsxDEV(CheckoutForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"nIkUJQD9GjCmxyXP6H4xrTCuciY=\", false, function () {\n  return [useUser];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/kellyhuang/Documents/CS122B/FRONTEND/CS122B-FE-Starter/src/pages/App.jsx"],"names":["React","useState","useEffect","loadStripe","Elements","orderPayment","CheckoutForm","useUser","stripePromise","App","paymentIntentId","setPaymentIntentId","clientSecret","setClientSecret","accessToken","createPaymentIntent","then","response","data","catch","error","alert","JSON","stringify","appearance","theme","options"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,QAAT,QAAyB,yBAAzB;AACA,SAASC,YAAT,QAA6B,mBAA7B;AAEA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,SAAQC,OAAR,QAAsB,cAAtB;AACA,OAAO,WAAP;;AAEA,MAAMC,aAAa,GAAGL,UAAU,CAAC,6GAAD,CAAhC,C,CAEA;;AACA,eAAe,SAASM,GAAT,GAAe;AAAA;;AAC1B,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCV,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,EAAD,CAAhD;AAEA,QAAM;AAACa,IAAAA;AAAD,MAAgBP,OAAO,EAA7B,CAJ0B,CAM1B;;AACA,QAAMQ,mBAAmB,GAAG,MAAM;AAC9BV,IAAAA,YAAY,CAACS,WAAD,CAAZ,CACKE,IADL,CACUC,QAAQ,IAAI;AACdJ,MAAAA,eAAe,CAACI,QAAQ,CAACC,IAAT,CAAcN,YAAf,CAAf;AACAD,MAAAA,kBAAkB,CAACM,QAAQ,CAACC,IAAT,CAAcR,eAAf,CAAlB;AACH,KAJL,EAKKS,KALL,CAKWC,KAAK,IAAIC,KAAK,CAACC,IAAI,CAACC,SAAL,CAAeH,KAAK,CAACH,QAAN,CAAeC,IAA9B,EAAoC,IAApC,EAA0C,CAA1C,CAAD,CALzB;AAMH,GAPD;;AASAhB,EAAAA,SAAS,CAAC,MAAM;AAACa,IAAAA,mBAAmB;AAAG,GAA9B,EAAgC,EAAhC,CAAT;AAEA,QAAMS,UAAU,GAAG;AACfC,IAAAA,KAAK,EAAE;AADQ,GAAnB;AAGA,QAAMC,OAAO,GAAG;AACZd,IAAAA,YADY;AAEZY,IAAAA;AAFY,GAAhB;AAKA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEKZ,YAAY,iBACT,QAAC,QAAD;AAAU,MAAA,OAAO,EAAEc,OAAnB;AAA4B,MAAA,MAAM,EAAElB,aAApC;AAAA,6BACI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAHR;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAUH;;GApCuBC,G;UAIEF,O;;;KAJFE,G","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { orderPayment } from \"../backend/orders\";\n\nimport CheckoutForm from \"../pages/CheckoutForm\";\nimport {useUser} from \"../hook/User\";\nimport \"index.css\";\n\nconst stripePromise = loadStripe(\"pk_test_51L1KT6A6FPmczoGVaNZ6wlz6oTx3DEOF006dCb7tZqBD5X3htwfpgbwiv2K8QVqUcsKsPvTJTaU6GyqDwn91Kf1i00q5kUixme\");\n\n//CREATE PAYMENT INTENT\nexport default function App() {\n    const [paymentIntentId, setPaymentIntentId] = useState(\"\");\n    const [clientSecret, setClientSecret] = useState(\"\");\n\n    const {accessToken} = useUser();\n\n    //calling get request from /order/payment endpoint to get paymentintentid\n    const createPaymentIntent = () => {\n        orderPayment(accessToken)\n            .then(response => {\n                setClientSecret(response.data.clientSecret)\n                setPaymentIntentId(response.data.paymentIntentId)\n            })\n            .catch(error => alert(JSON.stringify(error.response.data, null, 2)))\n    }\n\n    useEffect(() => {createPaymentIntent()}, []);\n\n    const appearance = {\n        theme: 'stripe',\n    };\n    const options = {\n        clientSecret,\n        appearance,\n    };\n\n    return (\n        <div className=\"App\">\n            <h1>hello</h1>\n            {clientSecret && (\n                <Elements options={options} stripe={stripePromise}>\n                    <CheckoutForm />\n                </Elements>\n            )}\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}