{"ast":null,"code":"var _jsxFileName = \"/Users/kellyhuang/Documents/CS122B/FRONTEND/CS122B-FE-Starter/src/pages/Cart.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useUser } from \"hook/User\";\nimport styled from \"styled-components\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport { cartDelete, cartUpdate, retrieveCart } from \"../backend/cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n_c = StyledDiv;\nconst StyledH1 = styled.h1`\n`;\nconst StyledInput = styled.input`\n`;\nconst StyledButton = styled.button`\n`;\n\nconst Cart = () => {\n  _s();\n\n  const {\n    accessToken\n  } = useUser(); // cart\n\n  const [cart, setCart] = React.useState(0);\n  const navigate = useNavigate();\n\n  const viewCart = () => {\n    retrieveCart({}, accessToken).then(response => {\n      setCart(response.data.items);\n      console.log(response.data.items);\n    }).catch(error => alert(JSON.stringify(error.response.data, null, 2)));\n  };\n\n  const backHome = () => {\n    navigate(\"/\");\n    window.location.reload();\n  };\n\n  const updateCart = (event, movieId) => {\n    const payload = event.target.value > 0 ? {\n      movieId: movieId,\n      quantity: event.target.value\n    } : {\n      movieId: movieId\n    };\n    event.target.value > 0 ? cartUpdate(payload, accessToken).catch(error => alert(JSON.stringify(error.response.data, null, 2))) : cartDelete(payload, accessToken).catch(error => alert(JSON.stringify(error.response.data, null, 2)));\n    window.location.reload();\n  };\n\n  useEffect(() => viewCart(), []);\n  return /*#__PURE__*/_jsxDEV(StyledDiv, {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: cart[0].unitPrice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Cart, \"niBMvwY6qLTpbOh2g4wiV4/d2sk=\", false, function () {\n  return [useUser, useNavigate];\n});\n\n_c2 = Cart;\nexport default Cart;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledDiv\");\n$RefreshReg$(_c2, \"Cart\");","map":{"version":3,"sources":["/Users/kellyhuang/Documents/CS122B/FRONTEND/CS122B-FE-Starter/src/pages/Cart.jsx"],"names":["React","useEffect","useUser","styled","useForm","useNavigate","cartDelete","cartUpdate","retrieveCart","StyledDiv","div","StyledH1","h1","StyledInput","input","StyledButton","button","Cart","accessToken","cart","setCart","useState","navigate","viewCart","then","response","data","items","console","log","catch","error","alert","JSON","stringify","backHome","window","location","reload","updateCart","event","movieId","payload","target","value","quantity","unitPrice"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\nimport {useUser} from \"hook/User\";\nimport styled from \"styled-components\";\nimport {useForm} from \"react-hook-form\";\nimport {useNavigate} from \"react-router-dom\";\nimport {cartDelete, cartUpdate, retrieveCart} from \"../backend/cart\";\n\n\nconst StyledDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nconst StyledH1 = styled.h1`\n`\n\nconst StyledInput = styled.input`\n`\n\nconst StyledButton = styled.button`\n`\nconst Cart = () => {\n    const {accessToken} = useUser();\n\n    // cart\n    const [cart, setCart] = React.useState(0);\n    const navigate = useNavigate();\n\n    const viewCart = () => {\n        retrieveCart({}, accessToken)\n            .then(response => {\n                setCart(response.data.items)\n                console.log(response.data.items)\n            })\n            .catch(error => alert(JSON.stringify(error.response.data, null, 2)));\n    }\n\n    const backHome = () => {\n        navigate(\"/\");\n        window.location.reload();\n    }\n\n    const updateCart = (event, movieId) => {\n        const payload = event.target.value > 0 ? {\n            movieId: movieId,\n            quantity: event.target.value\n        } : {\n            movieId: movieId\n        }\n\n        event.target.value > 0\n            ? cartUpdate(payload, accessToken)\n                .catch(error => alert(JSON.stringify(error.response.data, null, 2)))\n            : cartDelete(payload, accessToken)\n                .catch(error => alert(JSON.stringify(error.response.data, null, 2)));\n\n        window.location.reload();\n    }\n\n    useEffect(() => viewCart(), []);\n\n    return (\n        <StyledDiv>\n        <h1>{cart[0].unitPrice}</h1>\n        </StyledDiv>\n\n    );\n}\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}